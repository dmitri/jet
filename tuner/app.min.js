!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([/*!*****************!*\
  !*** multi app ***!
  \*****************/
function(e,t,n){e.exports=n(3)},/*!********************************!*\
  !*** ./src/styles/screen.scss ***!
  \********************************/
function(e,t){},/*!***********************************************!*\
  !*** ./bower_components/howler/howler.min.js ***!
  \***********************************************/
function(e,t,n){var o,i;(function(r){/*! howler.js v2.0.0-beta9 | (c) 2013-2016, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
!function(){"use strict";function a(){try{"undefined"!=typeof AudioContext?u=new AudioContext:"undefined"!=typeof webkitAudioContext?u=new webkitAudioContext:d=!1}catch(e){d=!1}if(!d)if("undefined"!=typeof Audio)try{var t=new Audio;"undefined"==typeof t.oncanplaythrough&&(f="canplay")}catch(e){l=!0}else l=!0;try{var t=new Audio;t.muted&&(l=!0)}catch(e){}var n=/iP(hone|od|ad)/.test(s&&s.platform),o=s&&s.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=o?parseInt(o[1],10):null;if(n&&i&&9>i){var r=/safari/.test(s&&s.userAgent.toLowerCase());(s&&s.standalone&&!r||s&&!s.standalone&&!r)&&(d=!1)}d&&(c="undefined"==typeof u.createGain?u.createGainNode():u.createGain(),c.gain.value=1,c.connect(u.destination))}var s=window&&window.navigator?window.navigator:null,u=null,d=!0,l=!1,c=null,f="canplaythrough";a();var p=function(){this.init()};p.prototype={init:function(){var e=this||_;return e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e.state=u?u.state||"running":"running",e.autoSuspend=!0,e._autoSuspend(),e.mobileAutoEnable=!0,e.noAudio=l,e.usingWebAudio=d,e.ctx=u,e.masterGain=c,l||e._setupCodecs(),e},volume:function(e){var t=this||_;if(e=parseFloat(e),"undefined"!=typeof e&&e>=0&&1>=e){t._volume=e,d&&(c.gain.value=e);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var r=t._howls[n]._soundById(o[i]);r&&r._node&&(r._node.volume=r._volume*e)}return t}return t._volume},mute:function(e){var t=this||_;t._muted=e,d&&(c.gain.value=e?0:t._volume);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var r=t._howls[n]._soundById(o[i]);r&&r._node&&(r._node.muted=e?!0:r._muted)}return t},unload:function(){for(var e=this||_,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&"undefined"!=typeof u.close&&(e.ctx=null,u.close(),a(),e.ctx=u),e},codecs:function(e){return(this||_)._codecs[e]},_setupCodecs:function(){var e=this||_,t=new Audio,n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=s&&s.userAgent.match(/OPR\/([0-6].)/g),i=o&&parseInt(o[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||_,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(s&&s.userAgent),n=!!("ontouchend"in window||s&&s.maxTouchPoints>0||s&&s.msMaxTouchPoints>0);if(!u||!e._mobileEnabled&&t&&n){e._mobileEnabled=!1,_.unload();var o=function(){var t=u.createBufferSource();t.buffer=e._scratchBuffer,t.connect(u.destination),"undefined"==typeof t.start?t.noteOn(0):t.start(0),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchend",o,!0)}};return document.addEventListener("touchend",o,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&u&&"undefined"!=typeof u.suspend&&d){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",u.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;return u&&"undefined"!=typeof u.resume&&d?("running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.state="resuming",u.resume().then(function(){e.state="running"}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e):void 0}};var _=new p,h=function(e){var t=this;return e.src&&0!==e.src.length?void t.init(e):void console.error("An array of source files must be passed with any new Howl.")};h.prototype={init:function(e){var t=this;return t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"==typeof e.preload?e.preload:!0,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._webAudio=d&&!t._html5,"undefined"!=typeof u&&u&&(t._scratchBuffer=u.createBuffer(1,1,22050),_.mobileAutoEnable&&_._enableMobileAudio()),_._howls.push(t),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(l)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var o,i;if(e._format&&e._format[n]?o=e._format[n]:(i=e._src[n],o=/^data:audio\/([^;,]+);/i.exec(i),o||(o=/\.([^.]+)$/.exec(i.split("?",1)[0])),o&&(o=o[1].toLowerCase())),_.codecs(o)){t=e._src[n];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new g(e),e._webAudio&&m(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e){var t=this,n=arguments,o=null;if("number"==typeof e)o=e,e=null;else if("undefined"==typeof e){e="__default";for(var i=0,r=0;r<t._sounds.length;r++)t._sounds[r]._paused&&!t._sounds[r]._ended&&(i++,o=t._sounds[r]._id);1===i?e=null:o=null}var a=o?t._soundById(o):t._inactiveSound();if(!a)return null;if(o&&!e&&(e=a._sprite||"__default"),"loaded"!==t._state&&!t._sprite[e])return t._queue.push({event:"play",action:function(){t.play(t._soundById(a._id)?a._id:void 0)}}),a._id;if(o&&!a._paused)return n[1]||setTimeout(function(){t._emit("play",a._id)},0),a._id;t._webAudio&&_._autoResume();var d=a._seek>0?a._seek:t._sprite[e][0]/1e3,l=(t._sprite[e][0]+t._sprite[e][1])/1e3-d,c=1e3*l/Math.abs(a._rate);c!==1/0&&(t._endTimers[a._id]=setTimeout(t._ended.bind(t,a),c)),a._paused=!1,a._ended=!1,a._sprite=e,a._seek=d,a._start=t._sprite[e][0]/1e3,a._stop=(t._sprite[e][0]+t._sprite[e][1])/1e3,a._loop=!(!a._loop&&!t._sprite[e][2]);var p=a._node;if(t._webAudio){var h=function(){t._refreshBuffer(a);var e=a._muted||t._muted?0:a._volume*_.volume();p.gain.setValueAtTime(e,u.currentTime),a._playStart=u.currentTime,"undefined"==typeof p.bufferSource.start?a._loop?p.bufferSource.noteGrainOn(0,d,86400):p.bufferSource.noteGrainOn(0,d,l):a._loop?p.bufferSource.start(0,d,86400):p.bufferSource.start(0,d,l),t._endTimers[a._id]||c===1/0||(t._endTimers[a._id]=setTimeout(t._ended.bind(t,a),c)),n[1]||setTimeout(function(){t._emit("play",a._id)},0)};"loaded"===t._state?h():(t.once("load",h,a._id),t._clearTimer(a._id))}else{var g=function(){p.currentTime=d,p.muted=a._muted||t._muted||_._muted||p.muted,p.volume=a._volume*_.volume(),p.playbackRate=a._rate,setTimeout(function(){p.play(),n[1]||t._emit("play",a._id)},0)},y="loaded"===t._state&&(window&&window.ejecta||!p.readyState&&s.isCocoonJS);if(4===p.readyState||y)g();else{var m=function(){c!==1/0&&(t._endTimers[a._id]=setTimeout(t._ended.bind(t,a),c)),g(),p.removeEventListener(f,m,!1)};p.addEventListener(f,m,!1),t._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if("loaded"!==t._state)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var i=t._soundById(n[o]);if(i&&!i._paused){if(i._seek=t.seek(n[o]),i._paused=!0,t._stopFade(n[o]),i._node)if(t._webAudio){if(!i._node.bufferSource)return t;"undefined"==typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i._id)}}return t},stop:function(e){var t=this;if("loaded"!==t._state)return t._queue.push({event:"stop",action:function(){t.stop(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var i=t._soundById(n[o]);if(i&&!i._paused&&(i._seek=i._start||0,i._paused=!0,i._ended=!0,t._stopFade(n[o]),i._node))if(t._webAudio){if(!i._node.bufferSource)return t;"undefined"==typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.pause(),i._node.currentTime=i._start||0);i&&t._emit("stop",i._id)}return t},mute:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"==typeof t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var r=n._soundById(o[i]);r&&(r._muted=e,n._webAudio&&r._node?r._node.gain.setValueAtTime(e?0:r._volume*_.volume(),u.currentTime):r._node&&(r._node.muted=_._muted?!0:e),n._emit("mute",r._id))}return n},volume:function(){var e,t,n=this,o=arguments;if(0===o.length)return n._volume;if(1===o.length){var i=n._getSoundIds(),r=i.indexOf(o[0]);r>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if(!("undefined"!=typeof e&&e>=0&&1>=e))return a=t?n._soundById(t):n._sounds[0],a?a._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,o)}}),n;"undefined"==typeof t&&(n._volume=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)a=n._soundById(t[s]),a&&(a._volume=e,o[2]||n._stopFade(t[s]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e*_.volume(),u.currentTime):a._node&&!a._muted&&(a._node.volume=e*_.volume()),n._emit("volume",a._id));return n},fade:function(e,t,n,o){var i=this;if("loaded"!==i._state)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,o)}}),i;i.volume(e,o);for(var r=i._getSoundIds(o),a=0;a<r.length;a++){var s=i._soundById(r[a]);if(s)if(o||i._stopFade(r[a]),i._webAudio&&!s._muted){var d=u.currentTime,l=d+n/1e3;s._volume=e,s._node.gain.setValueAtTime(e,d),s._node.gain.linearRampToValueAtTime(t,l),s._timeout=setTimeout(function(e,n){delete n._timeout,setTimeout(function(){n._volume=t,i._emit("fade",e)},l-u.currentTime>0?Math.ceil(1e3*(l-u.currentTime)):0)}.bind(i,r[a],s),n)}else{var c=Math.abs(e-t),f=e>t?"out":"in",p=c/.01,_=n/p;!function(){var n=e;s._interval=setInterval(function(e,o){n+="in"===f?.01:-.01,n=Math.max(0,n),n=Math.min(1,n),n=Math.round(100*n)/100,i.volume(n,e,!0),n===t&&(clearInterval(o._interval),delete o._interval,i._emit("fade",e))}.bind(i,r[a],s),_)}()}}return i},_stopFade:function(e){var t=this,n=t._soundById(e);return n._interval?(clearInterval(n._interval),delete n._interval,t._emit("fade",e)):n._timeout&&(clearTimeout(n._timeout),delete n._timeout,n._node.gain.cancelScheduledValues(u.currentTime),t._emit("fade",e)),t},loop:function(){var e,t,n,o=this,i=arguments;if(0===i.length)return o._loop;if(1===i.length){if("boolean"!=typeof i[0])return n=o._soundById(parseInt(i[0],10)),n?n._loop:!1;e=i[0],o._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var r=o._getSoundIds(t),a=0;a<r.length;a++)n=o._soundById(r[a]),n&&(n._loop=e,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e));return o},rate:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),r=i.indexOf(o[0]);r>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if("number"!=typeof e)return a=n._soundById(t),a?a._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,o)}}),n;"undefined"==typeof t&&(n._rate=e),t=n._getSoundIds(t);for(var s=0;s<t.length;s++)if(a=n._soundById(t[s])){a._rate=e,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.value=e:a._node&&(a._node.playbackRate=e);var u=n.seek(t[s]),d=(n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-u,l=1e3*d/Math.abs(a._rate);n._clearTimer(t[s]),n._endTimers[t[s]]=setTimeout(n._ended.bind(n,a),l),n._emit("rate",a._id)}return n},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),r=i.indexOf(o[0]);r>=0?t=parseInt(o[0],10):(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("undefined"==typeof t)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(t);if(a){if(!(e>=0))return n._webAudio?a._seek+(n.playing(t)?u.currentTime-a._playStart:0):a._node.currentTime;var s=n.playing(t);s&&n.pause(t,!0),a._seek=e,n._clearTimer(t),s&&n.play(t,!0),n._emit("seek",t)}return n},playing:function(e){var t=this,n=t._soundById(e)||t._sounds[0];return n?!n._paused:!1},duration:function(e){var t=this,n=t._soundById(e)||t._sounds[0];return t._duration/n._rate},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++){t[n]._paused||(e.stop(t[n]._id),e._emit("end",t[n]._id)),e._webAudio||(t[n]._node.src="",t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(f,t[n]._loadFn,!1)),delete t[n]._node,e._clearTimer(t[n]._id);var o=_._howls.indexOf(e);o>=0&&_._howls.splice(o,1)}return y&&delete y[e._src],e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var i=this,r=i["_on"+e];return"function"==typeof t&&r.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),i},off:function(e,t,n){var o=this,i=o["_on"+e];if(t){for(var r=0;r<i.length;r++)if(t===i[r].fn&&n===i[r].id){i.splice(r,1);break}}else if(e)o["_on"+e]=[];else for(var a=Object.keys(o),r=0;r<a.length;r++)0===a[r].indexOf("_on")&&Array.isArray(o[a[r]])&&(o[a[r]]=[]);return o},once:function(e,t,n){var o=this;return o.on(e,t,n,1),o},_emit:function(e,t,n){for(var o=this,i=o["_on"+e],r=i.length-1;r>=0;r--)i[r].id&&i[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(o,i[r].fn),0),i[r].once&&o.off(e,i[r].fn,i[r].id));return o},_loadQueue:function(){var e=this;if(e._queue.length>0){var t=e._queue[0];e.once(t.event,function(){e._queue.shift(),e._loadQueue()}),t.action()}return e},_ended:function(e){var t=this,n=e._sprite,o=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&o&&t.stop(e._id).play(e._id),t._webAudio&&o){t._emit("play",e._id),e._seek=e._start||0,e._playStart=u.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,t._clearTimer(e._id),t._cleanBuffer(e._node),_._autoSuspend()),t._webAudio||o||t.stop(e._id),t},_clearTimer:function(e){var t=this;return t._endTimers[e]&&(clearTimeout(t._endTimers[e]),delete t._endTimers[e]),t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new g(e)},_drain:function(){var e=this,t=e._pool,n=0,o=0;if(!(e._sounds.length<t)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&n++;for(o=e._sounds.length-1;o>=0;o--){if(t>=n)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"==typeof e){for(var n=[],o=0;o<t._sounds.length;o++)n.push(t._sounds[o]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=u.createBufferSource(),e._node.bufferSource.buffer=y[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=t._rate,t},_cleanBuffer:function(e){var t=this;e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=t._scratchBuffer}catch(n){}return e.bufferSource=null,t}};var g=function(e){this._parent=e,this.init()};if(g.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=_._muted||e._muted||e._parent._muted?0:e._volume*_.volume();return t._webAudio?(e._node="undefined"==typeof u.createGain?u.createGainNode():u.createGain(),e._node.gain.setValueAtTime(n,u.currentTime),e._node.paused=!0,e._node.connect(c)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(f,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n,e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),e},_errorListener:function(){var e=this;e._node.error&&4===e._node.error.code&&(_.noAudio=!0),e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorListener,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),t._autoplay&&t.play(),e._node.removeEventListener(f,e._loadFn,!1)}},d)var y={},m=function(e){var t=e._src;if(y[t])return e._duration=y[t].duration,void S(e);if(/^data:[^;]+;base64,/.test(t)){window.atob=window.atob||function(e){for(var t,n,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=String(e).replace(/=+$/,""),r=0,a=0,s="";n=i.charAt(a++);~n&&(t=r%4?64*t+n:n,r++%4)?s+=String.fromCharCode(255&t>>(-2*r&6)):0)n=o.indexOf(n);return s};for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),i=0;i<n.length;++i)o[i]=n.charCodeAt(i);b(o.buffer,e)}else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){var t=(r.status+"")[0];return"0"!==t&&"2"!==t&&"3"!==t?void e._emit("loaderror",null,"Failed loading audio file with status: "+r.status+"."):void b(r.response,e)},r.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete y[t],e.load())},v(r)}},v=function(e){try{e.send()}catch(t){e.onerror()}},b=function(e,t){u.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(y[t._src]=e,S(t,e))},function(){t._emit("loaderror",null,"Decoding audio data failed.")})},S=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),e._autoplay&&e.play()};n(13)&&(o=[],i=function(){return{Howler:_,Howl:h}}.apply(t,o),!(void 0!==i&&(e.exports=i))),"undefined"!=typeof t&&(t.Howler=_,t.Howl=h),"undefined"!=typeof window?(window.HowlerGlobal=p,window.Howler=_,window.Howl=h,window.Sound=g):"undefined"!=typeof r&&(r.HowlerGlobal=p,r.Howler=_,r.Howl=h,r.Sound=g)}(),/*! Effects Plugin */
!function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype._velocity=[0,0,0],HowlerGlobal.prototype._listenerAttr={dopplerFactor:1,speedOfSound:343.3},HowlerGlobal.prototype.pos=function(e,t,n){var o=this;return o.ctx&&o.ctx.listener?(t="number"!=typeof t?o._pos[1]:t,n="number"!=typeof n?o._pos[2]:n,"number"!=typeof e?o._pos:(o._pos=[e,t,n],o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]),o)):o},HowlerGlobal.prototype.orientation=function(e,t,n,o,i,r){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,o="number"!=typeof o?s[3]:o,i="number"!=typeof i?s[4]:i,r="number"!=typeof r?s[5]:r,"number"!=typeof e?s:(a._orientation=[e,t,n,o,i,r],a.ctx.listener.setOrientation(e,t,n,o,i,r),a)},HowlerGlobal.prototype.velocity=function(e,t,n){var o=this;return o.ctx&&o.ctx.listener?(t="number"!=typeof t?o._velocity[1]:t,n="number"!=typeof n?o._velocity[2]:n,"number"!=typeof e?o._velocity:(o._velocity=[e,t,n],o.ctx.listener.setVelocity(o._velocity[0],o._velocity[1],o._velocity[2]),o)):o},HowlerGlobal.prototype.listenerAttr=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;var n=t._listenerAttr;return e?(t._listenerAttr={dopplerFactor:"undefined"!=typeof e.dopplerFactor?e.dopplerFactor:n.dopplerFactor,speedOfSound:"undefined"!=typeof e.speedOfSound?e.speedOfSound:n.speedOfSound},t.ctx.listener.dopplerFactor=n.dopplerFactor,t.ctx.listener.speedOfSound=n.speedOfSound,t):n},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._pos=t.pos||null,n._velocity=t.velocity||[0,0,0],n._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!=typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:1},n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],n._onvelocity=t.onvelocity?[{fn:t.onvelocity}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.pos=function(t,n,o,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(t,n,o,i)}}),r;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,"undefined"==typeof i){if("number"!=typeof t)return r._pos;r._pos=[t,n,o]}for(var a=r._getSoundIds(i),s=0;s<a.length;s++){var u=r._soundById(a[s]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,n,o],u._node&&(u._panner||e(u),u._panner.setPosition(t,n,o)),r._emit("pos",u._id)}}return r},Howl.prototype.orientation=function(t,n,o,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(t,n,o,i)}}),r;if(n="number"!=typeof n?r._orientation[1]:n,o="number"!=typeof o?r._orientation[2]:o,"undefined"==typeof i){if("number"!=typeof t)return r._orientation;r._orientation=[t,n,o]}for(var a=r._getSoundIds(i),s=0;s<a.length;s++){var u=r._soundById(a[s]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,n,o],u._node&&(u._panner||(u._pos||(u._pos=r._pos||[0,0,-.5]),e(u)),u._panner.setOrientation(t,n,o)),r._emit("orientation",u._id)}}return r},Howl.prototype.velocity=function(t,n,o,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"velocity",action:function(){r.velocity(t,n,o,i)}}),r;if(n="number"!=typeof n?r._velocity[1]:n,o="number"!=typeof o?r._velocity[2]:o,"undefined"==typeof i){if("number"!=typeof t)return r._velocity;r._velocity=[t,n,o]}for(var a=r._getSoundIds(i),s=0;s<a.length;s++){var u=r._soundById(a[s]);if(u){if("number"!=typeof t)return u._velocity;u._velocity=[t,n,o],u._node&&(u._pos||(u._pos=r._pos||[0,0,-.5]),u._panner||e(u),u._panner.setVelocity(t,n,o)),r._emit("velocity",u._id)}}return r},Howl.prototype.pannerAttr=function(){var t,n,o,i=this,r=arguments;if(!i._webAudio)return i;if(0===r.length)return i._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return o=i._soundById(parseInt(r[0],10)),o?o._pannerAttr:i._pannerAttr;t=r[0],"undefined"==typeof n&&(i._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:i._distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:i._maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:i._panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:i._refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:i._rolloffFactor})}else 2===r.length&&(t=r[0],n=parseInt(r[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(o=i._soundById(a[s])){var u=o._pannerAttr;u={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:u.maxDistance,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:u.panningModel,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:u.refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:u.rolloffFactor};var d=o._panner;d?(d.coneInnerAngle=u.coneInnerAngle,d.coneOuterAngle=u.coneOuterAngle,d.coneOuterGain=u.coneOuterGain,d.distanceModel=u.distanceModel,d.maxDistance=u.maxDistance,d.panningModel=u.panningModel,d.refDistance=u.refDistance,d.rolloffFactor=u.rolloffFactor):(o._pos||(o._pos=i._pos||[0,0,-.5]),e(o))}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._pos=n._pos,t._velocity=n._velocity,t._pannerAttr=n._pannerAttr,e.call(this),t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._pos=n._pos,t._velocity=n._velocity,t._pannerAttr=n._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e){e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2]),e._panner.setVelocity(e._velocity[0],e._velocity[1],e._velocity[2]),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id)}}()}).call(t,function(){return this}())},/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
function(e,t,n){"use strict";n(1);var o=(n(2),n(5));new o["default"]({container:document.querySelector("main")})},/*!**********************************!*\
  !*** ./src/js/includes/audio.js ***!
  \**********************************/
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={mp3:n(11),ogg:n(12)};t["default"]=o},/*!****************************************!*\
  !*** ./src/js/includes/controller.jsx ***!
  \****************************************/
function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(8),a=n(6),s=n(9),u=n(7),d=function(){function e(t){o(this,e),this.streamable=this.clientIsStreamable(),this.$container=t.container,this.tuner=null,this.player=null,this.visualizer=null,this.loadDOM(),this.loadStringLibrary(),this.streamable?this.loadStreamableMode():this.loadPlayerMode(),this.loadKeyCommands()}return i(e,[{key:"loadStreamableMode",value:function(){var e=this;this.$container.classList.add("mode-streamable"),this.$container.classList.add("muted"),this.streaming=!1,this.loadPlayer(),this.loadVisualizer(!0),this.loadTuner(),this.loadMicToggle(),this.loadLoopToggle(),this.loadToneToggles(),this.$tuningSel.appendChild(this.stringLib.tuningSelectLabel),this.stringLib.tuningSelect.addEventListener("change",function(t){e.onTuningChange(t)}),this.tuner.onSilence=function(){return e.visualizer.onSilence()},this.tuner.requestUserMedia(function(){e.streaming&&e.visualizer.handleStream(e.tuner.data)})}},{key:"loadPlayerMode",value:function(){var e=this;this.$container.classList.add("mode-player"),console.warn("Not HTTPS or getUserMedia not available."),this.loadPlayer(),this.loadVisualizer(!1),this.loadDummyMicToggle(),this.loadLoopToggle(),this.loadToneToggles(),this.$tuningSel.appendChild(this.stringLib.tuningSelectLabel),this.stringLib.tuningSelect.addEventListener("change",function(t){e.onTuningChange(t)})}},{key:"loadDOM",value:function(){this.$headStock=document.querySelector(".head-stock"),this.$state=document.querySelector(".toggles .state"),this.$tone=document.querySelector(".toggles .tone"),this.$display=document.querySelector(".display"),this.$tuner=document.querySelector(".tuner"),this.$pads=document.querySelector(".pads"),this.$padsList=document.querySelector(".pads-list"),this.$tuningSel=document.querySelector(".tuning-select")}},{key:"loadKeyCommands",value:function(){var e=this;this.keyCommands={_49:{fn:this.playByKey,param:1},_50:{fn:this.playByKey,param:2},_51:{fn:this.playByKey,param:3},_52:{fn:this.playByKey,param:4},_53:{fn:this.playByKey,param:5},_54:{fn:this.playByKey,param:6},_76:{fn:this.toggleLoop},_77:{fn:this.toggleMic},_84:{fn:this.selectTuning},_37:{fn:this.playByKey,param:"p"},_39:{fn:this.playByKey,param:"n"},_13:{fn:this.playByKey,param:"c"}},document.body.addEventListener("keyup",function(t){e.onKeyup(t)}),document.body.addEventListener("keydown",function(t){e.onKeydown(t,e.player.currentNoteIndex,e.streaming)})}},{key:"onKeydown",value:function(e,t,n){if(this.keyDown);else{this.keyDown=!0;var o=e.keyCode,i=this.keyCommands["_"+o];if(i)if(i.param){if(this.streaming)return;i.fn(i.param,t)}else i.fn(n)}}},{key:"onKeyup",value:function(e){this.keyDown=!1}},{key:"playByKey",value:function(e,t){var n=0,o=t+1;switch(e){case"n":n=6>o?o+1:1;break;case"p":n=o>1?o-1:6;break;case"c":n=o;break;default:n=e}var i=document.querySelector(".pads-list > div:nth-child("+n+")");i.click(),document.querySelector(".tuning-select select").blur()}},{key:"toggleLoop",value:function(e){e||(document.querySelector(".toggle-loop .toggle").click(),document.querySelector(".tuning-select select").blur())}},{key:"toggleMic",value:function(){document.querySelector(".toggle-mic .toggle").click(),document.querySelector(".tuning-select select").blur()}},{key:"selectTuning",value:function(){document.querySelector(".tuning-select select").focus()}},{key:"loadStringLibrary",value:function(){this.stringLib=new u["default"],this.stringLib.setup("standard")}},{key:"loadMicToggle",value:function(){var e=this;this.$micToggle=document.createElement("div"),this.$micToggle.classList.add("toggle-mic"),this.$micToggle.classList.add("off"),this.$micToggle.classList.add("inactive");var t=document.createElement("label");t.innerHTML='\n    <svg class="icon-mic">\n      <use xlink:href="#icon-mic"></use>\n    </svg> Mic';var n=document.createElement("div");n.classList.add("toggle"),this.$micToggle.appendChild(t),this.$micToggle.appendChild(n),this.$state.appendChild(this.$micToggle),n.addEventListener("click",function(t){if(e.streaming)e.$micToggle.classList.add("off"),e.$micToggle.classList.add("inactive"),e.$loopToggle.classList.remove("inactive"),e.$container.classList.add("muted");else{e.$micToggle.classList.remove("off"),e.$micToggle.classList.remove("inactive"),e.$loopToggle.classList.add("inactive"),e.$container.classList.remove("muted");var n=document.querySelector(".pads-list > div.current");n&&n.classList.remove("current"),document.querySelector(".pads-list > div:first-child").classList.add("current"),e.player.currentNoteIndex=0,e.player.stop()}e.streaming=!e.streaming})}},{key:"loadDummyMicToggle",value:function(){var e=this;this.$micToggle=document.createElement("div"),this.$micToggle.classList.add("toggle-mic"),this.$micToggle.classList.add("off"),this.$micToggle.classList.add("inactive");var t=document.createElement("div");t.classList.add("notification"),t.innerHTML='\n      <p>Sorry, your browser doesn\'t support this feature.</p>\n      <p>\n        <svg class="icon-browser-chrome">\n          <use xlink:href="#icon-browser-chrome"></use>\n        </svg>\n        <svg class="icon-browser-firefox">\n          <use xlink:href="#icon-browser-firefox"></use>\n        </svg>\n        <svg class="icon-browser-edge">\n          <use xlink:href="#icon-browser-edge"></use>\n        </svg>\n      </p>\n    ';var n=document.createElement("label");n.innerHTML='\n    <svg class="icon-mic">\n      <use xlink:href="#icon-mic"></use>\n    </svg> Mic';var o=document.createElement("div");o.classList.add("toggle"),this.$micToggle.appendChild(n),this.$micToggle.appendChild(o),this.$micToggle.appendChild(t),this.$state.appendChild(this.$micToggle),o.addEventListener("click",function(t){e.$micToggle.classList.toggle("notify")})}},{key:"loadLoopToggle",value:function(){var e=this;this.$loopToggle=document.createElement("div"),this.$loopToggle.classList.add("toggle-loop"),this.$loopToggle.classList.add("off");var t=document.createElement("label");t.innerHTML='\n    <svg class="icon-loop">\n      <use xlink:href="#icon-loop"></use>\n    </svg> Loop';var n=document.createElement("div");n.classList.add("toggle"),this.$loopToggle.appendChild(t),this.$loopToggle.appendChild(n),this.$state.appendChild(this.$loopToggle),n.addEventListener("click",function(t){e.$loopToggle.classList.contains("off")?e.$loopToggle.classList.remove("off"):e.$loopToggle.classList.add("off"),e.player.loop=!e.player.loop})}},{key:"loadToneToggles",value:function(){var e=this;this.$toneToggle=document.createElement("div"),this.$toneToggle.classList.add("toggle-mode");var t=document.createElement("label");t.innerHTML='\n    <svg class="icon-tone">\n      <use xlink:href="#icon-tone"></use>\n    </svg> Tone';var n=document.createElement("div");this.player.tones.forEach(function(t,o){var i=document.createElement("span");i.setAttribute("data-tone-index",o),i.innerHTML='\n        <svg class="icon-stock-'+(o+1)+'">\n          <use xlink:href="#icon-stock-'+(o+1)+'"></use>\n        </svg>',n.appendChild(i),i.addEventListener("click",function(t){return e.onToneChange(t)})}),this.$toneToggle.appendChild(t),this.$toneToggle.appendChild(n),this.$tone.appendChild(this.$toneToggle)}},{key:"onToneChange",value:function(e){var t=e.target.getAttribute("data-tone-index");this.player.updateTone(t),this.player.stop()}},{key:"loadVisualizer",value:function(e){var t=this;this.visualizer=new s["default"]({hasDisplay:e,headStock:this.$headStock,stringLibrary:this.stringLib,onPlay:function(e){t.player.onPlay(e)},tuner:this.$tuner,display:this.$display}),this.visualizer.updateStrings(this.stringLib.strings,this.stringLib.stringsKeys)}},{key:"loadTuner",value:function(){this.tuner=new r["default"]({stringLibrary:this.stringLib,visualizer:this.visualizer})}},{key:"loadPlayer",value:function(){this.player=new a["default"]({stringLibrary:this.stringLib,container:this.$container,headStock:this.$headStock,pads:this.$pads,padsList:this.$padsList}),this.player.updateTone(0)}},{key:"onTuningChange",value:function(e){this.stringLib.setup(e.target.value),this.player.loadStrings(e),this.player.stop(),this.visualizer&&this.visualizer.updateStrings(this.stringLib.strings,this.stringLib.stringsKeys)}},{key:"clientIsStreamable",value:function(){var e=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var t=window.innerWidth>736;return navigator.getUserMedia&&t&&(e="https:"===window.location.protocol),e}}]),e}();t["default"]=d},/*!************************************!*\
  !*** ./src/js/includes/player.jsx ***!
  \************************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),s=o(a),u=function(){function e(t){i(this,e),this.$pads=t.pads,this.$padsList=t.padsList,this.$headStock=t.headStock,this.$container=t.container,this.SL=t.stringLibrary,this.tones=["electric","acoustic","metal"],this.toneIndex=0,this.samplerOffset=0,this.spriteLength=1500,this.spritePad=500,this.looping=!1,this.loop=!1,this.playable=!1,this.currentNoteIndex=0,this.loadDOM(),this.loadData()}return r(e,[{key:"updateTone",value:function(e){this.$container.classList.remove("tone-"+this.tone),this.toneIndex=e,this.tone=this.tones[e],this.$container.classList.add("tone-"+this.tone)}},{key:"loadDOM",value:function(){this.loadStrings();var e=document.createElement("div");e.classList.add("notes");var t=document.createElement("span");t.classList.add("select-a-note"),t.innerHTML="Select a note to hear it played";var n=document.createElement("span");n.classList.add("playback-na"),n.innerHTML="Playback not available in mic mode",e.appendChild(t),e.appendChild(n),this.$pads.appendChild(e)}},{key:"loadStrings",value:function(){var e=this;this.$padsList.innerHTML="";var t=this.SL.stringsKeys,n=0,o=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var u=a.value;n++;var d=document.createElement("div");1===n&&d.classList.add("current"),d.innerHTML=this.SL.strings[u].nameHtml,d.setAttribute("data-note",u),d.setAttribute("data-string-index",n-1),this.$padsList.appendChild(d),d.addEventListener("click",function(t){return e.onPlay(t)},!0)}}catch(l){i=!0,r=l}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw r}}}},{key:"loadData",value:function(){var e=this,t=this.genSprites();this.sampler=new Howl({src:[s["default"].mp3,s["default"].ogg],html5:!1,preload:!0,sprite:t,loop:!0,onend:function(t){e.onEnd(t)},onload:function(){e.playable=!0,e.$container.classList.remove("loading")}})}},{key:"genSprites",value:function(){for(var e=this.spriteLength,t=this.spritePad,n={},o=0,i=0;i<this.tones.length;i++)for(var r in this.SL.notesLib)n["_"+i+"_"+r]=[o,e],o+=e+t;return n}},{key:"onPlay",value:function(e){if(this.playable){var t=e.target.getAttribute("data-note")||e.target.getAttribute("data-string-note"),n="_"+this.toneIndex+"_"+t;if(this.stop(),this.currentNote==n);else{this.currentNoteIndex=this.SL.stringsKeys.indexOf(t),this.currentNote=n,document.querySelector("[data-note="+t+"]").classList.add("active");var o=document.querySelector(".pads-list > div.current");o&&o.classList.remove("current"),document.querySelector("[data-note="+t+"]").classList.add("current"),this.play(e)}}}},{key:"onEnd",value:function(e){this.loop||this.stop()}},{key:"play",value:function(e){var t=e.target.getAttribute("data-string-index");this.$headStock.setAttribute("data-string-index-player",t),this.playing=!0,this.playInstance=this.sampler.play(this.currentNote)}},{key:"stop",value:function(){this.playing=!1,this.currentNote=null,this.$headStock.setAttribute("data-string-index-player",""),this.sampler.stop(this.playInstance),this.disableActiveNote()}},{key:"disableActiveNote",value:function(){var e=document.querySelector(".active[data-note]");e&&e.classList.remove("active")}},{key:"updateStrings",value:function(){}}]),e}();t["default"]=u},/*!********************************************!*\
  !*** ./src/js/includes/string_library.jsx ***!
  \********************************************/
function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){n(this,e),this.notesLib=this.notes(),this.allNotes=this.notesLib,this.allNotesKeys=Object.keys(this.allNotes),this.allNotesKeysAbs=Object.keys(this.allNotes),this.strings=null,this.stringsKeys=null,this.stringsIndexes=null}return o(e,[{key:"setup",value:function(e){this.stringLib||this.loadStringLib(),this.tuning=e,this.strings=this.stringLib[e],this.stringsKeys=Object.keys(this.strings),this.stringsIndexes=this.stringsKeys.reduce(function(e,t,n){return e[t]=n,e},{})}},{key:"loadStringLib",value:function(){this.stringLib=this.newStringLib(),this.loadTuningSelect()}},{key:"newStringLib",value:function(){function e(e){var n=e.split(" "),o={},i=!0,r=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var d=s.value;o[d]=t[d]}}catch(l){r=!0,a=l}finally{try{!i&&u["return"]&&u["return"]()}finally{if(r)throw a}}return o}var t=this.notesLib,n={standard:e("e2 a2 d3 g3 b3 e4"),drop_d:e("d2 a2 d3 g3 b3 e4"),half_step_down:e("eb2 ab2 db3 gb3 bb3 eb4"),full_step_down:e("d2 g2 c3 f3 a3 d4"),open_d:e("d2 a2 d3 gb3 a3 d4"),open_g:e("d2 g2 d3 g3 b3 d4"),open_a:e("e2 a2 db3 e3 a3 e4"),open_c:e("c2 g2 c3 g3 c4 e4"),open_e:e("e2 b2 e3 ab3 b3 e4"),open_f:e("f2 a2 c3 f3 a3 f4"),d_a_d_g_a_d:e("d2 a2 d3 g3 a3 d4")};return n}},{key:"loadTuningSelect",value:function(){this.tuningSelectLabel=document.createElement("label"),this.tuningSelect=document.createElement("select");for(var e in this.stringLib){var t=document.createElement("option");e===this.tuning&&(t.selected=!0),t.value=e,t.text=e.replace(/_/g," ").replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()}),this.tuningSelect.add(t)}this.tuningSelectLabel.appendChild(this.tuningSelect)}},{key:"notesHz",value:function(e){var t=.02,n=0;for(var o in this.notesLib)this.notesLib[o].bias=10-n*t,this.notesLib[o].offset=Math.round(e/this.notesLib[o].hz),this.notesLib[o].difference=0,n++}},{key:"notes",value:function(){var e={c2:{hz:65.41},db2:{hz:69.3},d2:{hz:73.42},eb2:{hz:77.78},e2:{hz:82.41},f2:{hz:87.31},gb2:{hz:92.5},g2:{hz:98},ab2:{hz:103.8},a2:{hz:110},bb2:{hz:116.5},b2:{hz:123.5},c3:{hz:130.8},db3:{hz:138.6},d3:{hz:146.8},eb3:{hz:155.6},e3:{hz:164.8},f3:{hz:174.6},gb3:{hz:185},g3:{hz:196},ab3:{hz:207.7},a3:{hz:220},bb3:{hz:233.1},b3:{hz:246.9},c4:{hz:261.6},db4:{hz:277.2},d4:{hz:293.7},eb4:{hz:311.1},e4:{hz:329.6},f4:{hz:349.2},gb4:{hz:370},g4:{hz:392},ab4:{hz:415.3},a4:{hz:440},bb4:{hz:466.2},b4:{hz:493.9}};for(var t in e)e[t].note=t,e[t].octave=parseInt(t.match(/(\d)$/g)),e[t].name=t.replace(/db/g,"c#").replace(/gb/g,"f#").replace(/ab/g,"g#").replace(/^([a-z])/g,function(e,t){return t.toUpperCase()}).replace(t.match(/(\d)$/g),"").replace(/([A-Z])b/g,"$1♭").replace(/([A-Z])#/g,"$1♯"),e[t].nameHtml=e[t].name.replace("♭","<span>♭</span>").replace("♯","<span>♯</span>").replace(/([^>])$/g,"$1");return e}}]),e}();t["default"]=i},/*!***********************************!*\
  !*** ./src/js/includes/tuner.jsx ***!
  \***********************************/
function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){n(this,e),this.visualizer=t.visualizer,this.FFTSIZE=2048,this.stream=null,this.audioContext=new AudioContext,this.analyser=this.audioContext.createAnalyser(),this.gainNode=this.audioContext.createGain(),this.microphone=null,this.listener=null,this.gainNode.gain.value=0,this.analyser.fftSize=this.FFTSIZE,this.analyser.smoothingTimeConstant=1,this.frequencyBufferLength=this.FFTSIZE,this.frequencyBuffer=new Float32Array(this.frequencyBufferLength),this.SL=t.stringLibrary,this.SL.notesHz(this.audioContext.sampleRate),this.lastRms=0,this.rmsThreshold=.006,this.assessedStringsInLastFrame=!1,this.assessStringsUntilTime=0,this.dispatchAudioData=this.dispatchAudioData.bind(this),this.sortNotesKeysByDifference=this.sortNotesKeysByDifference.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this)}return o(e,[{key:"requestUserMedia",value:function(e){var t=this;navigator.getUserMedia({audio:!0},function(n){t.listener=e,t.sendingAudioData=!0,t.stream=n,t.microphone=t.audioContext.createMediaStreamSource(n),t.microphone.connect(t.analyser),t.analyser.connect(t.gainNode),t.gainNode.connect(t.audioContext.destination),requestAnimationFrame(t.dispatchAudioData)},function(e){console.log("Unable to access the microphone.")})}},{key:"attached",value:function(){document.addEventListener("visibilitychange",this.onVisibilityChange),this.onVisibilityChange()}},{key:"detached",value:function(){this.sendingAudioData=!1}},{key:"onVisibilityChange",value:function(){document.hidden?(this.sendingAudioData=!1,this.stream&&(this.stream.getAudioTracks().forEach(function(e){"stop"in e&&e.stop()}),"stop"in this.stream&&this.stream.stop()),this.stream=null):this.requestUserMedia()}},{key:"sortNotesKeysByDifference",value:function(e,t){return this.SL.allNotes[e].difference-this.SL.allNotes[t].difference}},{key:"autocorrelateAudioData",value:function(e){var t=.5*this.frequencyBufferLength,n=(this.audioContext.sampleRate,null),o=0,i=0,r=.001,a=0,s=.008,u=this.assessedStringsInLastFrame;this.analyser.getFloatTimeDomainData(this.frequencyBuffer);for(var d=0;d<this.frequencyBuffer.length;d++){var l=this.frequencyBuffer[d]*this.frequencyBuffer[d];a+=l}if(a=Math.sqrt(a/this.frequencyBuffer.length),s>a)return 0;if(a>this.lastRms+this.rmsThreshold&&(this.assessStringsUntilTime=e+250),e<this.assessStringsUntilTime){this.assessedStringsInLastFrame=!0;for(var c=0;c<this.SL.allNotesKeys.length;c++){n=this.SL.allNotesKeys[c],o=this.SL.allNotes[n].offset,i=0,u===!1&&(this.SL.allNotes[n].difference=0);for(var f=0;t>f;f++)i+=Math.abs(this.frequencyBuffer[f]-this.frequencyBuffer[f+o]);i/=t,this.SL.allNotes[n].difference+=i*this.SL.allNotes[n].bias}}else this.assessedStringsInLastFrame=!1;u===!0&&this.assessedStringsInLastFrame===!1&&this.SL.allNotesKeys.sort(this.sortNotesKeysByDifference);for(var p=10,_=this.SL.allNotes[this.SL.allNotesKeys[0]],h=_.offset-p,g=_.offset+p,y=_.offset,m=Number.POSITIVE_INFINITY,v=h;g>v;v++){i=0;for(var b=0;t>b;b++)i+=Math.abs(this.frequencyBuffer[b]-this.frequencyBuffer[b+v]);if(i/=t,m>i&&(m=i,y=v),r>i){y=v;break}}return this.lastRms=a,this.audioContext.sampleRate/y}},{key:"dispatchAudioData",value:function(e){this.sendingAudioData&&requestAnimationFrame(this.dispatchAudioData);var t=this.autocorrelateAudioData(e);if(0===t)return void(this.onSilence&&this.onSilence());var n=Math.log2(t/440),o=12*n,i=4+(9+o)/12;i=Math.floor(i);for(var r=(12+Math.round(o)%12)%12,a="a bb b c db d eb e f gb g ab".split(" "),s=a[r]+i,u=this.SL.allNotes[s],d=null,l=this.SL.allNotesKeysAbs.indexOf(this.SL.allNotesKeys[0]),c=Math.max(0,l-3),f=c;f<this.SL.allNotesKeysAbs.length;f++){var p=this.SL.allNotesKeysAbs[f];if(-1!==this.SL.stringsKeys.indexOf(p)){d=p;break}}null===d&&(d=this.SL.stringsKeys[0]),this.closestNote===u?this.confidence++:this.confidence=0,this.closestNote=u,this.confident=this.confidence>5;var _=this.SL.strings[d];this.assumedString=d;var h=this.SL.stringsKeys.indexOf(d),g=-1!==this.SL.stringsKeys.indexOf(s),y=Math.round(100*(_.hz-t))/-100,m=y>0,v=0>y;!this.confident&&this.data||(this.data={stringMatch:g,frequency:t,sharp:m,flat:v,closestString:_,closestNote:u,stringIndex:h,proxHz:y,octave:i,note:r}),this.listener()}}]),e}();t["default"]=i},/*!****************************************!*\
  !*** ./src/js/includes/visualizer.jsx ***!
  \****************************************/
function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){n(this,e),this.$headStock=t.headStock,this.$display=t.display,this.$tuner=t.tuner,this.onPlay=t.onPlay,this.SL=t.stringLibrary,this.hasDisplay=t.hasDisplay,this.hasDisplay&&this.loadData(),this.loadElements()}return o(e,[{key:"loadElements",value:function(){this.elemHeadStock(),this.hasDisplay&&this.elemDisplay()}},{key:"elemHeadStock",value:function(){for(var e=this,t=0;6>t;t++){var n=document.createElement("span");n.classList.add("string"),n.setAttribute("data-string-index",t),n.setAttribute("data-string-value",""),n.setAttribute("data-string-note",this.SL.stringsKeys[t]),n.addEventListener("click",function(t){return e.onPlay(t)},!0),this.$headStock.appendChild(n)}}},{key:"elemDisplay",value:function(){this.$currNote=document.createElement("span"),this.$tracking=document.createElement("div"),this.$tracker=document.createElement("span"),this.$currNote.classList.add("current-note"),this.$tracking.id="tracking",this.$tracker.id="tracker";for(var e=0;13>e;e++)this.$tracker.appendChild(document.createElement("span"));this.$tracking.appendChild(this.$tracker),this.$display.appendChild(this.$currNote),this.$tuner.appendChild(this.$tracking)}},{key:"loadData",value:function(){this.silence=0,this.silenceConfirmed=50,this.inTuneFact=.5,this.trackerTicker=0,this.trackerTickerUpdate=5,this.colors=[{main:"rgba(181, 17, 13, 1)",bg:"rgba(181, 17, 13, 0.4)"},{main:"rgba(215, 78, 9, 1)",bg:"rgba(215, 78, 9, 0.4)"},{main:"rgba(242, 187, 5, 1)",bg:"rgba(242, 187, 5, 0.4)"},{main:"rgba(124, 181, 24, 1)",bg:"rgba(124, 181, 24, 0.4)"}]}},{key:"updateStrings",value:function(e,t){t.forEach(function(t,n){var o=document.querySelector('.head-stock [data-string-index="'+n+'"]');if(o){var i=e[t];o.setAttribute("data-string-value",i.name),o.setAttribute("data-string-note",i.note),o.innerHTML=i.nameHtml}})}},{key:"onSilence",value:function(){this.silence++,this.silence>this.silenceConfirmed&&this.handleNoString()}},{key:"handleStream",value:function(e){this.silence=0,this.data=e,this.handleStringMatch()}},{key:"handleNoString",value:function(){this.$tuner.classList.add("inactive"),this.$currNote.innerHTML="...",this.$headStock.setAttribute("data-string-index","");var e="translateX(0px)";this.$tracker.style.webkitTransform=e,this.$tracker.style.transform=e}},{key:"handleStringMatch",value:function(){var e=this.data;this.$tuner.classList.remove("inactive");var t=Math.round(.0608*e.closestString.hz),n=1-Math.max(0,(Math.min(t+this.inTuneFact,Math.abs(e.proxHz))-this.inTuneFact)/t),o=3;n=Math.pow(n,o);var i=e.flat?"Flat":"Sharp";if(n>.95?"Tuned!":i+"<br />"+e.proxHz+"Hz",this.trackerTicker++,this.trackerTicker%this.trackerTickerUpdate===0){n>.95?this.$currNote.classList.add("in-tune"):this.$currNote.classList.remove("in-tune"),this.$currNote.innerHTML=e.closestString.nameHtml,this.$headStock.setAttribute("data-string-index",e.stringIndex);var r=e.flat?-1:1,a=16.5,s=(a-a*n)*r,u="translateX("+s+"%)";this.colors[Math.max(0,Math.floor((n-1e-7)*this.colors.length))],this.$tracker.style.webkitTransform=u,this.$tracker.style.transform=u}}}]),e}();t["default"]=i},,/*!**********************************!*\
  !*** ./assets/audio/strings.mp3 ***!
  \**********************************/
function(e,t,n){e.exports=n.p+"//assets.online.berklee.edu/tuner/audio/strings.mp3"},/*!**********************************!*\
  !*** ./assets/audio/strings.ogg ***!
  \**********************************/
function(e,t,n){e.exports=n.p+"//assets.online.berklee.edu/tuner/audio/strings.ogg"},/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
function(e,t){(function(t){e.exports=t}).call(t,{})}]);